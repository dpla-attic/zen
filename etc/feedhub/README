Add the feed type

curl -H "Content-Type: application/json" -X PUT --data-binary "@-" http://sforza.ogbuji.net:5984/test1/feed < etc/feedhub/bootstrap/__feed__.js 

Add the feed type rule sheet

DOC=http://sforza.ogbuji.net:5984/test1/feed
REV=`python -c "import urllib; from amara.thirdparty import json; doc = '$DOC'; print json.load(urllib.urlopen(doc))['_rev']"`
sign_rulesheet zenzenzen etc/feedhub/bootstrap/__feed__.rsheet | curl -H "Content-Type: application/python" -X PUT --data-binary "@-" $DOC/attachment?rev=$REV

Add a feed instance

curl --request PUT --data-binary @- "http://sforza.ogbuji.net:5984/test1/spam.feed" << END
{
    "feed:name": "Copia",
    "feed:source": "http://copia.posterous.com/",
    "feed:description": "Ogbujis on an abundance of topics",
    "zen:metadata": {
	"zen:type": "feed"
    }
}
END












See: http://community.zepheira.com/wiki/development/UcheOgbuji/Zen/Arthub_demo

Bootstrap example:

Put your zen secret from akara.conf by itself into a file, e.g.:

echo "abcdef" > ~/.config/zensecret

wikibootstrap --zensecret=~/.config/zensecret --target=http://localhost:8880/moin/mywiki/arthub etc/arthub/bootstrap

You should eyeball wiki recent changes to verify the new pages & attachments

Then try to add an artifact:

curl --request POST --data-binary "@-" "http://localhost:8880/zen/mywiki/arthub/artifact?type=arthub/artifact" < etc/arthub/whitney2-3.js

See what URL it's given, e.g. ...arthub/artifact/1291066634.09

Then retrieve it e.g.:

curl http://localhost:8880/zen/mywiki/arthub/artifact/1291066634.09

You can also modify the source file and update:

curl --request PUT --data-binary "@-" "http://localhost:8880/zen/mywiki/arthub/artifact/1291066634.09?type=arthub/artifact" < etc/arthub/modified-whitney2-3.js

And delete:

curl --request DELETE http://localhost:8880/zen/mywiki/arthub/artifact/1291066634.09


----

Current location: http://potlach.org/2008/02/whitney/

Data:

http://potlach.org/2008/02/whitney/art.json
http://potlach.org/2008/02/miller/miller-art.json


